import{_ as p,r as d,o as l,c as r,a as t,b as s,d as e,w as o,e as n}from"./app-38a680a8.js";const i={},c=n(`<h1 id="直播间管理" tabindex="-1"><a class="header-anchor" href="#直播间管理" aria-hidden="true">#</a> 直播间管理</h1><h2 id="开通直播间" tabindex="-1"><a class="header-anchor" href="#开通直播间" aria-hidden="true">#</a> 开通直播间</h2><blockquote><p>https://api.live.bilibili.com/xlive/app-blink/v1/preLive/CreateRoom</p></blockquote><p><em>请求方式：POST</em></p><p>认证方式：Cookie（SESSDATA）</p><p>鉴权方式：Cookie中<code>bili_jct</code>的值正确并与<code>csrf</code>相同</p><p><strong>正文参数（ application/x-www-form-urlencoded ）：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>platform</td><td>str</td><td>客户端？</td><td>必要</td><td>默认值web</td></tr><tr><td>visit_id</td><td>str</td><td>未知</td><td></td><td>默认空</td></tr><tr><td>csrf</td><td>str</td><td>CSRF Token（位于cookie）</td><td>必要</td><td></td></tr><tr><td>csrf_token</td><td>str</td><td>CSRF Token（位于 cookie）</td><td></td><td></td></tr></tbody></table><p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>0：成功<br>1531193016：已经创建直播间~<br>-400：请求错误</td></tr><tr><td>ttl</td><td>str</td><td>错误信息</td><td>默认为1</td></tr><tr><td>message</td><td>str</td><td>错误信息</td><td>默认为0</td></tr><tr><td>data</td><td>array</td><td>信息本体</td><td></td></tr></tbody></table><p><code>data</code>对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>roomID</td><td>str</td><td>直播间房间号</td><td>创建成功返回直播间号</td></tr></tbody></table><p><strong>示例：</strong></p><p>开通直播间</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/xlive/app-blink/v1/preLive/CreateRoom&#39;</span> <span class="token punctuation">\\</span>
--data-urlencode <span class="token string">&#39;platform=web&#39;</span> <span class="token punctuation">\\</span>
--data-urlencode <span class="token string">&#39;visit_id=&#39;</span> <span class="token punctuation">\\</span>
--data-urlencode <span class="token string">&#39;csrf=xxx&#39;</span> <span class="token punctuation">\\</span>
--data-urlencode <span class="token string">&#39;csrf_token=xxx&#39;</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx;bili_jct=xx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;roomID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1234&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">1531193016</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;已经创建直播间~&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;roomID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="更新直播间信息" tabindex="-1"><a class="header-anchor" href="#更新直播间信息" aria-hidden="true">#</a> 更新直播间信息</h2><blockquote><p>https://api.live.bilibili.com/room/v1/Room/update</p></blockquote><p><em>请求方式：POST</em></p><p>认证方式：Cookie（SESSDATA）</p><p>鉴权方式：Cookie中<code>bili_jct</code>的值正确并与<code>csrf</code>相同</p><p><strong>正文参数（ application/x-www-form-urlencoded ）：</strong></p>`,23),u=t("thead",null,[t("tr",null,[t("th",null,"参数名"),t("th",null,"类型"),t("th",null,"内容"),t("th",null,"必要性"),t("th",null,"备注")])],-1),k=t("tr",null,[t("td",null,"csrf"),t("td",null,"str"),t("td",null,"CSRF Token（位于cookie）"),t("td",null,"必要"),t("td")],-1),v=t("tr",null,[t("td",null,"csrf_token"),t("td",null,"str"),t("td",null,"CSRF Token（位于 cookie）"),t("td",null,"非必要"),t("td")],-1),b=t("tr",null,[t("td",null,"platform"),t("td",null,"str"),t("td",null,"平台标识"),t("td",null,"非必要"),t("td")],-1),m=t("tr",null,[t("td",null,"visit_id"),t("td",null,"str"),t("td",null,"(?)"),t("td",null,"非必要"),t("td",null,"某种标识？")],-1),h=t("tr",null,[t("td",null,"room_id"),t("td",null,"num"),t("td",null,"直播间id"),t("td",null,"必要"),t("td",null,"必须为自己的直播间id")],-1),q=t("tr",null,[t("td",null,"title"),t("td",null,"str"),t("td",null,"直播间标题"),t("td",null,"非必要"),t("td",null,"上限40个字符")],-1),g=t("td",null,"area_id",-1),_=t("td",null,"num",-1),y=t("td",null,"直播分区id（子分区id）",-1),x=t("td",null,"非必要",-1),f=t("tr",null,[t("td",null,"add_tag"),t("td",null,"str"),t("td",null,"要添加的标签"),t("td",null,"非必要"),t("td",null,"开播设置界面上限10个字符")],-1),j=t("tr",null,[t("td",null,"del_tag"),t("td",null,"str"),t("td",null,"要删除的标签"),t("td",null,"非必要"),t("td",null,[s("若存在"),t("code",null,"add_tag"),s("时不起作用")])],-1),S=n(`<p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>0：成功<br>-1：操作太频繁<br>1：错误<br>3：未登录或鉴权失败<br>405：不允许的请求方法<br>60009：分区已下线<br>65530：token错误（登录错误）<br></td></tr><tr><td>msg</td><td>str</td><td>错误信息</td><td>默认为ok</td></tr><tr><td>message</td><td>str</td><td>错误信息</td><td>默认为ok</td></tr><tr><td>data</td><td>obj</td><td>信息本体</td><td>部分失败情况下是<code>[]</code>（空数组）</td></tr></tbody></table><p><code>data</code>对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>sub_session_key</td><td>str</td><td>信息变动标识</td><td></td></tr><tr><td>audit_info</td><td>obj</td><td>标题审核信息</td><td></td></tr></tbody></table><p><code>data</code>中的<code>audit_info</code>对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>audit_title_reason</td><td>str</td><td>标题审核提示</td><td></td></tr><tr><td>audit_title_status</td><td>num</td><td>标题审核状态</td><td></td></tr><tr><td>audit_title</td><td>str</td><td>被审核的标题</td><td>更新标题时存在</td></tr><tr><td>update_title</td><td>str</td><td><code>&quot;&quot;</code></td><td>作用尚不明确</td></tr></tbody></table><p><strong>示例：</strong></p><p>修改直播间<code>10352053</code>标题为<code>测试</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/room/v1/Room/update&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;room_id=10352053&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;title=测试&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;csrf=xxx&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx;bili_jct=xx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;sub_session_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;audit_info&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;audit_title_reason&quot;</span><span class="token operator">:</span><span class="token string">&quot;先发后审&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;update_title&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;audit_title_status&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">&quot;audit_title&quot;</span><span class="token operator">:</span><span class="token string">&quot;测试&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><p>修改直播间<code>10352053</code>分区为<code>40</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/room/v1/Room/update&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;room_id=10352053&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;area_id=40&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;csrf=xxx&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx;bili_jct=xx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;sub_session_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;audit_info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;audit_title_reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;update_title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;audit_title_status&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><p>给直播间<code>11996900</code>添加一个标签为<code>测试标签</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/room/v1/Room/update&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;room_id=11996900&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;add_tag=测试标签&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;csrf=xxx&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx;bili_jct=xxx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;sub_session_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;audit_info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;audit_title_reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;update_title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;audit_title_status&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><p>给直播间<code>11996900</code>删除内容为<code>测试标签</code>的标签</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/room/v1/Room/update&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;room_id=11996900&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;del_tag=测试标签&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;csrf=xxx&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx;bili_jct=xxx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;sub_session_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;audit_info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;audit_title_reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;update_title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;audit_title_status&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="开始直播" tabindex="-1"><a class="header-anchor" href="#开始直播" aria-hidden="true">#</a> 开始直播</h2><blockquote><p>https://api.live.bilibili.com/room/v1/Room/startLive</p></blockquote><p><em>请求方式：POST</em></p><p>认证方式：Cookie（SESSDATA）</p><p>鉴权方式：Cookie中<code>bili_jct</code>的值正确并与<code>csrf</code>相同</p><p>开播时必须有分区选择，开播后返回推流地址</p><p><strong>正文参数（ application/x-www-form-urlencoded ）：</strong></p>`,27),R=t("thead",null,[t("tr",null,[t("th",null,"参数名"),t("th",null,"类型"),t("th",null,"内容"),t("th",null,"必要性"),t("th",null,"备注")])],-1),T=t("tr",null,[t("td",null,"room_id"),t("td",null,"num"),t("td",null,"直播间id"),t("td",null,"必要"),t("td",null,"必须为自己的直播间id")],-1),w=t("td",null,"area_v2",-1),A=t("td",null,"num",-1),D=t("td",null,"直播分区id（子分区id）",-1),C=t("td",null,"必要",-1),E=t("tr",null,[t("td",null,"platform"),t("td",null,"str"),t("td",null,"直播平台"),t("td",null,"必要"),t("td",null,[s("直播姬（pc）：pc_link"),t("br"),s("web在线直播：web_link"),t("br"),s("bililink：android_link")])],-1),F=t("tr",null,[t("td",null,"csrf"),t("td",null,"str"),t("td",null,"CSRF Token（位于cookie）"),t("td",null,"必要"),t("td")],-1),P=n(`<p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>0：成功<br>65530：token错误（登录错误）<br>1：错误<br>60009：分区不存在<br>60024: 目标分区需要人脸认证<br>60013：非常抱歉，您所在的地区受实名认证限制无法开播<br><strong>（其他错误码有待补充）</strong></td></tr><tr><td>msg</td><td>str</td><td>错误信息</td><td>默认为空</td></tr><tr><td>message</td><td>str</td><td>错误信息</td><td>默认为空</td></tr><tr><td>data</td><td>obj</td><td>信息本体</td><td></td></tr></tbody></table><p><code>data</code>对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>change</td><td>num</td><td>是否改变状态</td><td>0：未改变<br>1：改变</td></tr><tr><td>status</td><td>str</td><td>直播间状态</td><td><code>LIVE</code></td></tr><tr><td>room_type</td><td>num</td><td>0</td><td>作用尚不明确</td></tr><tr><td>rtmp</td><td>obj</td><td>RTMP推流地址信息</td><td></td></tr><tr><td>protocols</td><td>array</td><td>？？？</td><td>作用尚不明确</td></tr><tr><td>try_time</td><td>str</td><td>？？？</td><td>作用尚不明确</td></tr><tr><td>live_key</td><td>str</td><td>标记直播场次的key</td><td></td></tr><tr><td>sub_session_key</td><td>str</td><td>信息变动标识</td><td></td></tr><tr><td>notice</td><td>obj</td><td>？？？</td><td>作用尚不明确</td></tr><tr><td>qr</td><td>str</td><td><code>&quot;&quot;</code></td><td>作用尚不明确</td></tr><tr><td>need_face_auth</td><td>bool</td><td>需要人脸识别?</td><td>作用尚不明确</td></tr><tr><td>service_source</td><td>str</td><td>？？？</td><td>作用尚不明确</td></tr><tr><td>rtmp_backup</td><td>null</td><td>？？？</td><td>作用尚不明确</td></tr><tr><td>up_stream_extra</td><td>obj</td><td>主播推流额外信息?</td><td></td></tr></tbody></table><p><code>data</code>中的<code>rtmp</code>对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>addr</td><td>str</td><td>RTMP推流（发送）地址</td><td><strong>重要</strong></td></tr><tr><td>code</td><td>str</td><td>RTMP推流参数（密钥）</td><td><strong>重要</strong></td></tr><tr><td>new_link</td><td>str</td><td>获取CDN推流ip地址重定向信息的url</td><td>没啥用</td></tr><tr><td>provider</td><td>str</td><td>？？？</td><td>作用尚不明确</td></tr></tbody></table><p><code>data</code>中的<code>protocols</code>数组：</p><table><thead><tr><th>项</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>0</td><td>obj</td><td>？？？</td><td>作用尚不明确</td></tr></tbody></table><p><code>data</code>中的<code>protocols</code>数组中的对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>protocol</td><td>str</td><td>rtmp</td><td>作用尚不明确</td></tr><tr><td>addr</td><td>str</td><td>RTMP推流（发送）地址</td><td></td></tr><tr><td>code</td><td>str</td><td>RTMP推流参数（密钥）</td><td></td></tr><tr><td>new_link</td><td>str</td><td>获取CDN推流ip地址重定向信息的url</td><td></td></tr><tr><td>provider</td><td>str</td><td>txy</td><td>作用尚不明确</td></tr></tbody></table><p><code>data</code>中的<code>notice</code>对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>type</td><td>num</td><td>1</td><td>作用尚不明确</td></tr><tr><td>status</td><td>num</td><td>0</td><td>作用尚不明确</td></tr><tr><td>title</td><td>str</td><td>空</td><td>作用尚不明确</td></tr><tr><td>msg</td><td>str</td><td>空</td><td>作用尚不明确</td></tr><tr><td>button_text</td><td>str</td><td>空</td><td>作用尚不明确</td></tr><tr><td>button_url</td><td>str</td><td>空</td><td>作用尚不明确</td></tr></tbody></table><p><code>data</code>中的<code>up_stream_extra</code>对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>isp</td><td>str</td><td>主播的互联网服务提供商</td><td></td></tr></tbody></table><p><strong>示例：</strong></p><p>以<code>27</code>作为分区id开播直播间<code>10352053</code></p><p>其中<code>&quot;data&quot;.&quot;rtmp&quot;.&quot;addr&quot;</code>为推流地址</p><p><code>&quot;data&quot;.&quot;rtmp&quot;.&quot;code&quot;</code>为推流参数</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/room/v1/Room/startLive&#39;</span> <span class="token punctuation">\\</span>
--data-urlencode <span class="token string">&#39;room_id=10352053&#39;</span> <span class="token punctuation">\\</span>
--data-urlencode <span class="token string">&#39;area_v2=27&#39;</span> <span class="token punctuation">\\</span>
--data-urlencode <span class="token string">&#39;platform=pc&#39;</span> <span class="token punctuation">\\</span>
--data-urlencode <span class="token string">&#39;csrf=xxx&#39;</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx;bili_jct=xx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;change&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;LIVE&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;try_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0000-00-00 00:00:00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;room_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;live_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;608336837537435443&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sub_session_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;608336837537435443sub_time:1747292297&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rtmp&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;addr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rtmp://live-push.bilivideo.com/live-bvc/&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;?streamname=live_348892132_32373699\\u0026key=e03061d4a7529d8eaa322dc4d330ca1c\\u0026schedule=rtmp\\u0026pflag=11&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;new_link&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://core.bilivideo.com/video/uplinkcore/selfbuild/schedule?up_rtmp=live-push.bilivideo.com%2Flive-bvc%2F%3Fstreamname%3Dlive_348892132_32373699%26key%3De73061d8a7539d8eaa233dc4d880ca1c%26schedule%3Drtmp%26pflag%3D11\\u0026edge=edge&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;live&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;protocols&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rtmp&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rtmp://live-push.bilivideo.com/live-bvc/&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;code&quot;</span><span class="token operator">:</span><span class="token string">&quot;?streamname=live_348892132_32373699\\u0026key=e73061d4a1002d8eaa322dc4d880ca1c\\u0026schedule=rtmp\\u0026pflag=11&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;new_link&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://core.bilivideo.com/video/uplinkcore/selfbuild/schedule?up_rtmp=live-push.bilivideo.com%2Flive-bvc%2F%3Fstreamname%3Dlive_348892132_32373699%26key%3De10298d4a7539d8eaa322dc4d220ca1c%26schedule%3Drtmp%26pflag%3D11\\u0026edge=edge&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;provider&quot;</span><span class="token operator">:</span> <span class="token string">&quot;txy&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;notice&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;button_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;button_url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;qr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;need_face_auth&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;service_source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;live-streaming&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rtmp_backup&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">&quot;up_stream_extra&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;isp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;电信&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="关闭直播" tabindex="-1"><a class="header-anchor" href="#关闭直播" aria-hidden="true">#</a> 关闭直播</h2><blockquote><p>https://api.live.bilibili.com/room/v1/Room/stopLive</p></blockquote><p><em>请求方式：POST</em></p><p>认证方式：Cookie（SESSDATA）</p><p>鉴权方式：Cookie中<code>bili_jct</code>的值正确并与<code>csrf</code>相同</p><p><strong>正文参数（ application/x-www-form-urlencoded ）：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>room_id</td><td>num</td><td>直播间id</td><td>必要</td><td>必须为自己的直播间id</td></tr><tr><td>csrf</td><td>str</td><td>CSRF Token（位于cookie）</td><td>必要</td><td></td></tr></tbody></table><p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>0：成功<br>65530：token错误（登录错误）<br>-400：没有权限<br><strong>（其他错误码有待补充）</strong></td></tr><tr><td>msg</td><td>str</td><td>错误信息</td><td>默认为空</td></tr><tr><td>message</td><td>str</td><td>错误信息</td><td>默认为空</td></tr><tr><td>data</td><td>obj</td><td>信息本体</td><td></td></tr></tbody></table><p><code>data</code>对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>change</td><td>num</td><td>是否改变状态</td><td>0：未改变<br>1：改变</td></tr><tr><td>status</td><td>str</td><td>直播间状态</td><td><code>PREPARING</code>、<code>ROUND</code></td></tr></tbody></table><p><strong>示例：</strong></p><p>关闭直播间<code>10352053</code>的直播</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/room/v1/Room/stopLive&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;room_id=10352053&#39;</span> <span class="token punctuation">\\</span>
  --data-urlencode <span class="token string">&#39;csrf=xxx&#39;</span> <span class="token punctuation">\\</span>
  <span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx;bili_jct=xxx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;change&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PREPARING&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="更新直播间公告" tabindex="-1"><a class="header-anchor" href="#更新直播间公告" aria-hidden="true">#</a> 更新直播间公告</h2><blockquote><p>https://api.live.bilibili.com/xlive/app-blink/v1/index/updateRoomNews</p></blockquote><p><em>请求方式：POST</em></p><p>认证方式：Cookie（SESSDATA）</p><p>鉴权方式：Cookie中<code>bili_jct</code>的值正确并与<code>csrf</code>相同</p><p><strong>正文参数（ application/x-www-form-urlencoded ）：</strong></p><table><thead><tr><th>参数名</th><th>类型</th><th>内容</th><th>必要性</th><th>备注</th></tr></thead><tbody><tr><td>room_id</td><td>num</td><td>直播间id</td><td>必要</td><td>必须为自己的直播间id</td></tr><tr><td>uid</td><td>num</td><td>用户id</td><td>必要</td><td></td></tr><tr><td>content</td><td>str</td><td>公告内容</td><td>必要</td><td>最大60个字符,可以为空</td></tr><tr><td>csrf</td><td>str</td><td>CSRF Token（位于cookie）</td><td>必要</td><td></td></tr><tr><td>csrf_token</td><td>str</td><td>CSRF Token（位于 cookie）</td><td></td><td></td></tr></tbody></table><p><strong>json回复：</strong></p><p>根对象：</p><table><thead><tr><th>字段</th><th>类型</th><th>内容</th><th>备注</th></tr></thead><tbody><tr><td>code</td><td>num</td><td>返回值</td><td>0：成功<br>65530：token错误（登录错误）<br>1：错误</td></tr><tr><td>data</td><td>array</td><td>空</td><td></td></tr><tr><td>message</td><td>str</td><td>错误信息</td><td>默认为ok</td></tr><tr><td>ttl</td><td>num</td><td>1</td><td>作用尚不明确</td></tr></tbody></table><p><strong>示例：</strong></p><p>修改直播间<code>11996900</code>公告为<code>测试修改公告</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token string">&#39;https://api.live.bilibili.com/xlive/app-blink/v1/index/updateRoomNews&#39;</span> <span class="token punctuation">\\</span>
--data-urlencode <span class="token string">&#39;room_id=11996900&#39;</span> <span class="token punctuation">\\</span>
--data-urlencode <span class="token string">&#39;uid=306903238&#39;</span> <span class="token punctuation">\\</span>
--data-urlencode <span class="token string">&#39;content=测试修改公告&#39;</span> <span class="token punctuation">\\</span>
--data-urlencode <span class="token string">&#39;csrf_token=xxx&#39;</span> <span class="token punctuation">\\</span>
--data-urlencode <span class="token string">&#39;csrf=xxx&#39;</span> <span class="token punctuation">\\</span>
<span class="token parameter variable">-b</span> <span class="token string">&#39;SESSDATA=xxx;bili_jct=xxx&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details><summary>查看响应示例：</summary><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ttl&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>`,51);function N(L,I){const a=d("RouterLink");return l(),r("div",null,[c,t("table",null,[u,t("tbody",null,[k,v,b,m,h,q,t("tr",null,[g,_,y,x,t("td",null,[s("详见"),e(a,{to:"/docs/live/live_area.html"},{default:o(()=>[s("直播分区")]),_:1})])]),f,j])]),S,t("table",null,[R,t("tbody",null,[T,t("tr",null,[w,A,D,C,t("td",null,[s("详见"),e(a,{to:"/docs/live/live_area.html"},{default:o(()=>[s("直播分区")]),_:1})])]),E,F])]),P])}const V=p(i,[["render",N],["__file","manage.html.vue"]]);export{V as default};
